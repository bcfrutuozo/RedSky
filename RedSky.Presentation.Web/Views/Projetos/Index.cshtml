
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="portlet">
    <div class="portlet-heading texture-portlet">
        <div class="portlet-title">
            <h4 class="vertical-allign">
                <i class="glyphicon glyphicon glyphicon-plane"></i>
                Projetos
            </h4>
        </div>
    </div>
    <div class="portlet-content text-center center-block">
        <div id="partial-container">

        </div>
    </div>
</div>

<script type="text/javascript" language="javascript">
    // Forces the load of projects on page open.
    $(document).ready(function () {
        showProjects();
    });

    function showProjects() {

        showProgress("Carregando projetos...");

        $.ajax({
            url: '@Url.Action("GetListProjeto")',
            type: 'GET'
        }).done(function(result) {
            // Limpa a div com os dados da tabela original para forçar o recarregamento com o novo Lote RPS.
            $("#partial-container").empty();

            $('#partial-container').html(result).fadeIn();
            hideProgress();

        });
    }

</script>